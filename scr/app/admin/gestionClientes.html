<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/MenuHam.css">
    <link rel="stylesheet" href="../../css/Botones.css">
    <link rel="stylesheet" href="../../css/Fuentes.css">
    <link rel="stylesheet" href="../../css/header.css">
    <link rel="stylesheet" href="../../css/footer.css">
    <link rel="stylesheet" href="../css/Marcos.css">
    <link rel="stylesheet" href="../../css/gestionClientes.css">
    <title>Gestión y edición de clientes</title>
</head>
<body>

<header class="header">
    <div><img class="logo" src="../../img/Grado_en_tecnologías_interactivas.svg" alt="LOGO"></div>
    <h1><span class="green">Green</span><span class="life">Life</span></h1>
    <nav>
        <ul class="nav-menu" id="menuOrdenador">
            <li><a class="text-button" href="gestionClientes.html">Gestión</a></li>
            <li><a class="text-button" href="ConsultasAdmin.html">Consultas</a></li>
            <li><a class="text-button" href="#"><i class="fa fa-user-circle-o"></i></a></li>
        </ul>
    </nav>
</header>

<nav id="navMenu" role="navigation">
    <div id="menuToggle">
        <input type="checkbox" />
        <span></span>
        <span></span>
        <span></span>
        <ul id="menu">
            <li><a class="text-button" href="#"><i class="fa fa-user-circle-o"></i></a></li>
            <li><a class="text-button" href="ConsultasAdmin.html">Consultas</a></li>
            <li><a class="text-button" href="gestionClientes.html">Gestión</a></li>
        </ul>
    </div>
</nav>

<div id="clients" class="table">
    <h2>Gestión y edición de clientes</h2>

    <div class="search-bar">
        <input type="text" id="searchClients" onkeyup="searchClients()" placeholder="Buscar por nombre..">
    </div>

    <table id="clients-table" class="clients-table">
        <thead>
        <tr>
            <th onclick="sortTable('nombreCliente')" class="nombreCliente">Nombre del Cliente</th>
            <th>Correo Electrónico</th>
            <th onclick="sortTable('rol')" class="rol">Rol</th>
            <th>Editar</th>
            <th>Eliminar</th>
        </tr>
        </thead>
        <tbody>
        <!-- Tabla implementada por JavaScript-->
        </tbody>
    </table>
    <div class="client-buttons">
        <button class="add-client" onclick="togglePopup('miPopupAdd')">Añadir Cliente</button>
        <h3 class="guardarBBDD">Datos guardados en la Base de Datos</h3>
        <button class="save-client" onclick="guardarBBDD()">Guardar</button>
    </div>
</div>

<!-- Popup para editar cliente -->
<div id="miPopup2" class="popup">
    <div class="popup-contenido">
        <span class="cerrar" onclick="togglePopup('miPopup2')">&times;</span>
        <h2 class="popupH2">Editar Cliente</h2>
        <input type="hidden" id="clienteIndex">
        <input type="text" id="nuevoNombreCliente" placeholder="Nuevo Nombre">
        <input type="text" id="nuevoCorreoCliente" placeholder="Nuevo Correo Electrónico">
        <div class="select-container">
            <select id="nuevoRolCliente">
                <option value="">Selecciona un Rol</option>
                <option value="Administrador">Administrador</option>
                <option value="Usuario">Usuario</option>
                <option value="Técnico">Técnico</option>
            </select>
        </div>
        <p id="errorEditar" class="error-message" style="display:none;">Por favor, rellena todos los campos y proporciona un correo electrónico válido.</p>
        <div class="button-container">
            <button class="button" onclick="confirmarEditarCliente()">Guardar</button>
        </div>
    </div>
</div>

<!-- Popup para añadir cliente -->
<div id="miPopupAdd" class="popup">
    <div class="popup-contenido">
        <span class="cerrar" onclick="togglePopup('miPopupAdd')">&times;</span>
        <h2 class="popupH2">Añadir Cliente</h2>
        <input type="text" id="nuevoNombreClienteAdd" placeholder="Nombre">
        <input type="text" id="nuevoCorreoClienteAdd" placeholder="Correo Electrónico">
        <div class="select-container">
            <select id="nuevoRolClienteAdd">
                <option value="">Selecciona un Rol</option>
                <option value="Administrador">Administrador</option>
                <option value="Usuario">Usuario</option>
                <option value="Técnico">Técnico</option>
            </select>
        </div>
        <!-- Mensaje de error -->
        <p id="errorAgregar" class="error-message">Por favor, rellena todos los campos y proporciona un correo electrónico válido.</p>
        <div class="button-container">
            <button class="button" onclick="confirmarAnyadir()">Añadir</button>
        </div>
    </div>
</div>

<!-- Popup para eliminar cliente -->
<div id="miPopupEliminar" class="popup">
    <div class="popup-contenido">
        <span class="cerrar" onclick="togglePopup('miPopupEliminar')">&times;</span>
        <h2 class="popupH2">Eliminar Cliente</h2>
        <h3 class="popupP">¿Estás seguro de que deseas eliminar este cliente?</h3>
        <input type="hidden" id="clienteEliminarIndex">
        <div class="button-container">
            <button class="button" onclick="confirmarEliminar()">Eliminar</button>
        </div>
    </div>
</div>

<script src="../../js/gestionClientes.js"></script>

</body>
</html>
